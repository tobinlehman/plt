!function(a){a.fn.CFAccordion=function(b){if(this.length>1)return this.each(function(){a(this).CFAccordion(b)}),this;var c=a(this).data();c.effect_duration*=1e3;var d={elements:".slide",effect_duration:800,infoItems:".info",event:"mouseover",accMinWidth:50,width:0,height:0,fullwidth:!1,image_container:".fa-image-container",_image:".main-image",play_video:".play-video",image_container:".fa-image-container",video_container:"div.fa-video",is_mobile:!1,idle:function(){},open:function(){},beforeInit:function(){},video_status:function(){}};b.accMinWidth<1&&(b.accMinWidth=null);var e,f,g,h,i,b=a.extend({},d,c,b),j=this,k="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,l=k?"touchend":b.event,m=j.find(b.elements),n=m.length,o=!1,p=!1,q=function(){return b},r=function(){var c=q(),d=(b.width/b.height,b.fullwidth?"100%":b.width);return a(j).css({width:d}),e=a(j).width(),f=e/n,g=b.accMinWidth?e-b.accMinWidth*(n-1):a(m[0]).width(),h=b.accMinWidth?b.accMinWidth:(e-g)/(n-1),a(m).css({width:g}),v(),s(),t(),c.beforeInit.call(j,{slides:m,width:f}),y("idle"),a(j).mouseleave(function(){p||(y("idle"),o=!1,a(m).removeClass("current"))}),a(m).bind(l,function(){var b=a.inArray(this,m);a(this).addClass("current"),y("min",b),o=b}),"click"!==b.event&&a(m).mouseleave(function(){a(this).removeClass("current")}),a(window).resize(function(){x()}),a(j).removeClass("slider-loading").children().show(),j},s=function(){a.each(m,function(c,d){var e=a(this).find(b.play_video),f=a(e).data("open_video"),g=a(this).find(b.video_container);if(!(g.length<1)){var h,i=a(g).data(),k=i.width;switch(i.aspect){case"16x9":default:h=9*k/16;break;case"4x3":h=3*k/4}if(f&&"modal"==f)var l=a(d).find(b.video_container).dialog({autoOpen:!1,width:k,height:h,maxWidht:k,maxHeight:h,draggable:!1,closeOnEscape:!0,resizable:!1,modal:!0,dialogClass:"fa-video-modal",close:function(){a(d).data("player").pause(),p=!1},open:function(){if(a(d).data("player"))a(d).data("player").resizePlayer(),a(d).data("player").play();else{var e=a(this).FA_VideoPlayer({stateChange:function(a){c==o&&(b.video_status.call(j,a),1==a&&(b.is_mobile||this.play())),u(a),4==a&&l.dialog("close")}});a(d).data("player",e)}p=!0}});a(this).find(b.play_video).bind("click",function(a){a.preventDefault(),l.dialog("open")})}})},t=function(){a.each(m,function(){var c=a(this).find(b.image_container);if(c.length>0){var d=a(c).data(),e=a("<img />",{src:d.image,"class":d.image_class,"data-width":d.width,"data-height":d.height});a(e).load(function(){var b=a(c).find("img");a(this).insertAfter(a(b)),a(b).remove(),w(a(this))})}})},u=function(a){i=a},v=function(){var c=b.width/b.height,d=a(j).width(),e=d/b.width*100;d>b.width&&(b.height_resize||(e=100));var f=b.font_size*e/100,g={"font-size":f+"%",height:d/c};b.height_resize||(g["max-height"]=b.height),a(j).css(g),m&&a.each(m,function(){var c=a(this).find(b.image_container+" "+b._image);w(c)})},w=function(b){var c=b.data("width"),d=b.data("height"),e=c/d,f=a(b).parent().width(),g=a(b).parent().height(),h=f/g;if(e>h){a(b).css({width:"auto","max-width":"none",height:"100%","max-height":"100%"});var i=a(b).width();0==i?a(b).load(function(){a(b).css({"margin-left":-((a(b).width()-a(j).width())/2),"margin-top":0})}):a(b).css({"margin-left":-((i-f)/2),"margin-top":0})}else{a(b).css({width:"100%","max-width":"100%",height:"auto","max-height":"none"});var k=a(b).height();0==k?a(b).load(function(){a(b).css({"margin-top":-((a(b).height()-a(j).height())/2),"margin-left":0})}):a(b).css({"margin-top":-((k-g)/2),"margin-left":0})}},x=function(){v();var c=j.width();c!=e&&(a(m).css({width:"90%"}),e=c,f=e/n,g=b.accMinWidth?e-b.accMinWidth*(n-1):a(m[0]).width(),h=b.accMinWidth?b.accMinWidth:(e-g)/(n-1),a(m).css({width:g}),b.beforeInit.call(j,{slides:m,width:f}),y("idle"))},y=function(b,c){var d="idle"==b?f:h,e=q();switch(a.each(m,function(b,f){return b>c?void a(f).animate({left:(b-1)*d+g},{queue:!1,duration:e.effect_duration}):void a(f).animate({left:b*d},{queue:!1,duration:e.effect_duration})}),b){case"idle":e.idle.call(j,{slides:m,width:f});break;case"min":e.open.call(j,{slides:m,index:c,width:f})}};return r()}}(jQuery);